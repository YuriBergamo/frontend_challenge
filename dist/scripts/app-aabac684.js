!function(){"use strict";angular.module("app",["ngMaterial"])}(),angular.module("app").directive("panelWidget",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{title:"@",template:"@",options:"@"},template:'<section layout-margin class="md-whiteframe-z1 panel-widget">  <md-toolbar md-theme="custom" class="md-hue-1 panel-widget-toolbar">    <div class="md-toolbar-tools">      <h3 class="panel-widget-tittle">{{title}}</h3>      <span flex></span>      <md-button ng-show="options" ng-click="$showOptions = !$showOptions" class="md-icon-button" aria-label="Show options">        <i class="material-icons">more_vert</i>      </md-button>    </div>  </md-toolbar>  <div ng-include="template"/></section>',compile:function(t,e,a){return function(t,e){a(t,function(t){e.append(t)})}}}}),function(){"use strict";function t(t,e){var a="http://apiadvisor.climatempo.com.br/api/v1/forecast/locale/",o="/days/15?",i="token=7fb7233aac4df9f9089dedc34dc5dd80";return{getWeather:function(t){return e.get(a+t+o+i)}}}angular.module("app").service("openWeahterAPI",["$q","$http",t])}(),function(){"use strict";function t(t){var e=[{name:"Dashboard",icon:"dashboard",sref:".dashboard"}];return{loadAllItems:function(){return t.when(e)}}}angular.module("app").service("navService",["$q",t])}(),function(){"use strict";function t(t){return{getCitiesByState:function(e){var a="http://apiadvisor.climatempo.com.br/api/v1/locale/city?state=",o=a+e+"&token=7fb7233aac4df9f9089dedc34dc5dd80";return t.get(o)},getAllStates:function(){return[{id:"1",sigla:"AC",nome:"Acre"},{id:"2",sigla:"AL",nome:"Alagoas"},{id:"3",sigla:"AM",nome:"Amazonas"},{id:"4",sigla:"AP",nome:"Amapá"},{id:"5",sigla:"BA",nome:"Bahia"},{id:"6",sigla:"CE",nome:"Ceará"},{id:"7",sigla:"DF",nome:"Distrito Federal"},{id:"8",sigla:"ES",nome:"Espírito Santo"},{id:"9",sigla:"GO",nome:"Goiás"},{id:"10",sigla:"MA",nome:"Maranhão"},{id:"11",sigla:"MG",nome:"Minas Gerais"},{id:"12",sigla:"MS",nome:"Mato Grosso do Sul"},{id:"13",sigla:"MT",nome:"Mato Grosso"},{id:"14",sigla:"PA",nome:"Pará"},{id:"15",sigla:"PB",nome:"Paraíba"},{id:"16",sigla:"PE",nome:"Pernambuco"},{id:"17",sigla:"PI",nome:"Piauí"},{id:"18",sigla:"PR",nome:"Paraná"},{id:"19",sigla:"RJ",nome:"Rio de Janeiro"},{id:"20",sigla:"RN",nome:"Rio Grande do Norte"},{id:"21",sigla:"RO",nome:"Rondônia"},{id:"22",sigla:"RR",nome:"Roraima"},{id:"23",sigla:"RS",nome:"Rio Grande do Sul"},{id:"24",sigla:"SC",nome:"Santa Catarina"},{id:"25",sigla:"SE",nome:"Sergipe"},{id:"26",sigla:"SP",nome:"São Paulo"},{id:"27",sigla:"TO",nome:"Tocantins"}]}}}angular.module("app").service("citiesService",["$http",t])}(),function(){function t(t,e,a){function o(e){t.getWeather(e).then(function(t){console.log("DATA",t.data.data[0]),i.cidade=t.data.name,i.climaSemanalList=t.data.data})}var i=this;o(e.localStorage.idFavorito),a.$on("cidadeAtualizada",function(t,e){o(e.id)})}angular.module("app").controller("TemperaturaSemanalController",["openWeahterAPI","$window","$rootScope",t])}(),function(){function t(t,e,a){function o(e){t.getWeather(e).then(function(t){console.log("DATA",t.data.data[0]),i.cidade=t.data.name,i.clima=t.data.data[0]})}var i=this;e.localStorage.idFavorito||(e.localStorage.idFavorito="5090"),i.getTemperatura=function(){return i.clima&&i.clima.temperature?(i.clima.temperature.min+i.clima.temperature.max)/2:void 0},o(e.localStorage.idFavorito),a.$on("cidadeAtualizada",function(t,e){o(e.id)})}angular.module("app").controller("TemperaturaController",["openWeahterAPI","$window","$rootScope",t])}(),function(){function t(t,e,a,o,i,n,d){function l(){var t=a.hide()||i.when(!0);t.then(function(){e("left").toggle()})}function r(t){s.title=t.name,s.toggleItemsList(),s.showSimpleToast(s.title)}function m(t){function e(t){var e=this;e.actions=[{name:"Share",icon:"share",url:"https://twitter.com/intent/tweet?text=Angular%20Material%20Dashboard%20https://github.com/flatlogic/angular-material-dashboard%20via%20@flatlogicinc"},{name:"Star",icon:"star",url:"https://github.com/flatlogic/angular-material-dashboard/stargazers"}],e.performAction=function(e){t.hide(e)}}a.show({parent:angular.element(document.getElementById("content")),templateUrl:"app/views/partials/bottomSheet.html",controller:["$mdBottomSheet",e],controllerAs:"vm",bindToController:!0,targetEvent:t}).then(function(t){t&&o.debug(t.name+" clicked!")})}function c(t){d.show(d.simple().content(t).hideDelay(2e3).position("bottom right"))}var s=this;s.menuItems=[],s.selectItem=r,s.toggleItemsList=l,s.showActions=m,s.title=n.current.data.title,s.showSimpleToast=c,s.clima="43",t.loadAllItems().then(function(t){s.menuItems=[].concat(t)})}angular.module("app").controller("MainController",["navService","$mdSidenav","$mdBottomSheet","$log","$q","$state","$mdToast",t])}(),function(){function t(t,e,a,o,i,n,d){function l(t){var e=t.toLowerCase();return function(t){return 0===t.name.toLowerCase().indexOf(e)}}function r(t,e){d.show(d.simple().content(t).hideDelay(e).position("bottom right"))}var m=this;m.estadoSelecionado=null,m.estadosList=t.getAllStates(),m.cidadeSelecionada=null,m.searchText=null,m.cidadesList=[],m.cidadeEncontradaAPI=null,m.procurandoCidades=!1,m.getCidades=function(){m.cidadeSelecionada=null,m.cidadesList=[],m.estadoSelecionado&&t.getCitiesByState(m.estadoSelecionado).then(function(t){m.cidadesList=t.data})},m.querySearch=function(t){var o=t?m.cidadesList.filter(l(t)):[],i=a.defer();return e(function(){i.resolve(o)},1e3*Math.random(),!1),i.promise},m.procurar=function(){m.procurandoCidades=!0,m.estadoSelecionado&&m.cidadeSelecionada?(i.$broadcast("cidadeAtualizada",m.cidadeSelecionada),m.cidadeEncontradaAPI=m.cidadeSelecionada,n.setTimeout(function(){m.procurandoCidades=!1},200)):console.log("DEU RUIM;")},m.favoritar=function(){m.cidadeEncontradaAPI?(n.localStorage.idFavorito=m.cidadeEncontradaAPI.id,r(m.cidadeEncontradaAPI.name+" é seu novo favorito!",2e3)):r("Você precisa fazer a busca antes de favoritar uma cidade!",2500)},m.isFavorito=function(){return m.cidadeSelecionada?n.localStorage.idFavorito==m.cidadeSelecionada.id:void 0}}angular.module("app").controller("CidadesController",["citiesService","$timeout","$q","openWeahterAPI","$rootScope","$window","$mdToast",t])}(),function(){function t(t,e,a){function o(e){t.getWeather(e).then(function(t){n.cidade=t.data.name,n.clima=t.data.data,console.log("Alterou a cidade do chart",e),n.semanaChartData=i,n.api.refresh()})}function i(){for(var t=[],e=0;e<n.clima.length;e++){var a=n.clima[e],o={};o.x=e,o.y=parseInt(a.temperature.min),t.push(o)}return console.log(t),[{values:t,color:"rgb(0, 150, 136)",area:!0}]}var n=this;o(e.localStorage.idFavorito),a.$on("cidadeAtualizada",function(t,e){o(e.id)}),n.chartOptions={chart:{type:"lineChart",height:210,width:500,x:function(t){return t.x},y:function(t){return t.y},showLabels:!1,showLegend:!1,title:"Próximos dias",showYAxis:!1,showXAxis:!1,tooltip:{contentGenerator:function(t){return'<span class="custom-tooltip">'+t.point.y+"</span>"}}}}}angular.module("app").controller("ChartController",["openWeahterAPI","$window","$rootScope",t])}(),angular.module("angularMaterialAdmin",["ngAnimate","ngCookies","ngSanitize","ui.router","ngMaterial","nvd3","app","md.data.table"]).config(["$stateProvider","$urlRouterProvider","$mdThemingProvider","$mdIconProvider",function(t,e,a,o){t.state("home",{url:"",templateUrl:"app/views/main.html",controller:"MainController",controllerAs:"vm","abstract":!0}).state("home.dashboard",{url:"/dashboard",templateUrl:"app/views/dashboard.html",data:{title:"Dashboard"}}),e.otherwise("/dashboard"),a.theme("default").primaryPalette("grey",{"default":"600"}).accentPalette("teal",{"default":"500"}).warnPalette("defaultPrimary"),a.theme("dark","default").primaryPalette("defaultPrimary").dark(),a.theme("grey","default").primaryPalette("grey"),a.theme("custom","default").primaryPalette("defaultPrimary",{"hue-1":"50"}),a.definePalette("defaultPrimary",{50:"#FFFFFF",100:"rgb(255, 198, 197)",200:"#E75753",300:"#E75753",400:"#E75753",500:"#E75753",600:"#E75753",700:"#E75753",800:"#E75753",900:"#E75753",A100:"#E75753",A200:"#E75753",A400:"#E75753",A700:"#E75753"}),o.icon("user","assets/images/user.svg",64)}]),angular.module("angularMaterialAdmin").run(["$templateCache",function(t){t.put("app/views/dashboard.html",'<div layout-gt-md="row"><panel-widget flex="" title="Busca por cidades" template="app/views/partials/cidades.html" class="fixed-height-widget" style="height: 30%;"></panel-widget></div><div layout-gt-md="row"><panel-widget flex="" title="Temperatura Agora" template="app/views/partials/temperatura.html" class="fixed-height-widget"></panel-widget><panel-widget flex="" title="Temperatura na Semana" template="app/views/partials/chart.html"></panel-widget></div><div layout-gt-md="row"><panel-widget flex="" title="Nos próximos dias" template="app/views/partials/temperaturaTable.html"></panel-widget></div>'),t.put("app/views/main.html",'<md-sidenav md-is-locked-open="$mdMedia(\'gt-sm\')" md-component-id="left" class="md-whiteframe-z2 md-sidenav-left"><md-toolbar md-theme="custom" class="md-hue-1 md-whiteframe-z2"><md-button layout="row" layout-align="center center" class="md-toolbar-tools md-warn" href="https://github.com/YuriBergamo/frontend_challenge"><h1>Yuri</h1></md-button></md-toolbar><md-button ng-repeat-start="item in vm.menuItems" layout="column" layout-align="center center" flex="" class="capitalize" ng-click="vm.selectItem(item)" ui-sref-active="md-warn" ui-sref="{{item.sref}}"><div hide-sm="" hide-md="" class="md-tile-content"><i class="material-icons md-36">{{item.icon}}</i></div><div class="md-tile-content">{{item.name}}</div></md-button><md-divider ng-repeat-end=""></md-divider></md-sidenav><div layout="column" flex=""><md-toolbar layout="row" layout-align="center center"><section layout-align="start center" layout-fill="" flex=""><md-button hide-gt-sm="" ng-click="vm.toggleItemsList()" aria-label="Menu"><i class="material-icons">menu</i></md-button></section><section layout-align="end center"><md-button class="toolbar-button" aria-label="Search"><i class="material-icons">search</i></md-button></section></md-toolbar><md-content flex="" class="md-padding page-content"><div ui-view=""></div></md-content></div>'),t.put("app/views/partials/chart.html",'<md-content ng-controller="ChartController as vm" layout="row" layout-align="center center" style="overflow: auto"><nvd3 options="vm.chartOptions" data="vm.semanaChartData" api="vm.api"></nvd3></md-content>'),t.put("app/views/partials/cidades.html",'<md-content ng-controller="CidadesController as vm" layout="row" layout-align="center center"><md-content class="md-padding" layout-align-sm="column" flex="" layout-align-gt-sm="row"><label>Estado</label><md-select ng-model="vm.estadoSelecionado" ng-change="vm.getCidades()"><md-option><em>Nenhum</em></md-option><md-option ng-repeat="estado in vm.estadosList" ng-value="estado.sigla">{{estado.nome}}</md-option></md-select><md-autocomplete placeholder="Selecione uma cidade..." md-selected-item="vm.cidadeSelecionada" md-search-text="vm.searchText" md-items="item in vm.querySearch(vm.searchText)" md-item-text="item.name"><md-item-template><span md-highlight-text="searchText">{{item.name}}</span></md-item-template><md-not-found>Cidade não encontrada.</md-not-found></md-autocomplete></md-content><md-content class="md-padding" flex="20"><md-button class="md-fab md-warn" aria-label="Favorito" ng-click="vm.favoritar()" ng-show="!vm.procurandoCidades"><md-tooltip md-direction="top">Favoritar</md-tooltip><i ng-show="!vm.isFavorito();" class="material-icons">favorite_border</i> <i ng-show="vm.isFavorito();" class="material-icons">favorite</i></md-button><md-button class="md-fab md-primary" aria-label="Procurar" ng-click="vm.procurar()" ng-show="!vm.procurandoCidades"><md-tooltip md-direction="top">Procurar clima</md-tooltip><i class="material-icons">launch</i></md-button><md-progress-circular md-mode="indeterminate" ng-show="vm.procurandoCidades"></md-progress-circular></md-content></md-content>'),t.put("app/views/partials/temperatura.html",'<style>\n    body {\n        background:#ededed;\n    }\n    .today {\n        font-size:6rem;\n        font-weight:100;\n        color:#666;\n    }\n    .night {\n        font-weight:300;\n    }\n</style><md-content ng-controller="TemperaturaController as vm" layout="row" layout-align="center center"><div class="container"><div class="row"><div class="col-md-7 col-lg-4 pull-xs-none m-x-auto m-t-5"><div class="card"><div class="card-block"><h2 class="card-title m-b-2">{{vm.cidade}}</h2><p>{{vm.clima.text.pt}}<small><span class="grey-text">&middot; Vento {{vm.clima.wind.velocity_avg}} km/h &middot; Umidade: {{vm.clima.humidity.min}}%</span></small></p><div class="row"><div class="today text-xs-center">{{vm.getTemperatura()}}&deg;</div></div></div></div></div></div></div></md-content>'),t.put("app/views/partials/temperaturaTable.html",'<md-content ng-controller="TemperaturaSemanalController as vm" layout="row" layout-align="center center"><md-table-container style="width: 100%;"><table md-table="" md-row-select="" multiple="" ng-model="selected" class="table table-hover table-bordered"><thead md-head=""><tr md-row=""><th md-column="">Dia</th><th md-column=""><span>Temperatura Máxima</span></th><th md-column=""><span>Temperatura Mín</span></th><th md-column="">Descrição</th></tr></thead><tbody md-body=""><tr md-row="" ng-repeat="item in vm.climaSemanalList"><td md-cell="">{{item.date_br}}</td><td md-cell="">{{item.temperature.max}} ºC</td><td md-cell="">{{item.temperature.min}} ºC</td><td md-cell="">{{item.text_icon.text.pt}}</td></tr></tbody></table></md-table-container></md-content>')}]);